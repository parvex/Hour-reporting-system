dist: xenial

language: java
jdk:
 - oraclejdk11
 - openjdk11

before_install:
 - chmod +x mvnw
 - gem install package_cloud

after_success:
 - bash <(curl -s https://codecov.io/bash)
 - cp .travis.settings.xml $HOME/.m2/settings.xml
 - package_cloud yawn MatKravi/pik-repository app-0.0.1-SNAPSHOT.jar
# - mvn deploy

#deploy:
# provider: script
# script: "cp .travis.settings.xml $HOME/.m2/settings.xml && mvn deploy"
# on:
#  all_branches: true

script:
 - mvn test
